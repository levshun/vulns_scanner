# Backlog

## To-do

### Предобработка данных

* Добавить CVSS-2

Для некоторых CPE нет информации о CVSS-3, поэтому необходимо учитывать CVSS-2

* Добавить явно версии продукта в CPE 

Добавить в промежуточную таблицу `CPE_CVE_Config` версии отдельными столбцами, поскольку в нынешней версии не у всех CPE явно хранятся промежуточные версии. Например, в случае
```
[
{'cpe23Uri': 'cpe:2.3:a:abb:platform_engineering_tools:*:*:*:*:*:*:*:*', 
'versionStartIncluding': '1.0.0', 
'versionEndIncluding': '2.3.0', 
'cpe_name': 
    [{'cpe23Uri': 'cpe:2.3:a:abb:platform_engineering_tools:1.0.0:*:*:*:*:*:*:*'}, 
     {'cpe23Uri': 'cpe:2.3:a:abb:platform_engineering_tools:2.3.0:*:*:*:*:*:*:*'}
    ]
}
]
``` 

* Нужно ли убирать буквы из версий CPE? Смотри комментарии в файле `parse_nisd_feeds.py` около 47 строки.

* Не все года в БД:
  y   | count 
------+-------
 2006 |  6891
 2007 |  6233
 2009 |  4856
 2010 |  4866
 2015 |  6190
 2018 | 13982
 2021 | 19135
 2023 | 23845
(8 rows)

* Отметить, что часть записей теряется

* Будем ли обрабатывать версии 1.Х.Х?? -- Yes

* Что делать с '-' в initial cpe, например, в CVE-2015-3374? Или с "0" в версии как в "12.04" в CVE-2022-23935?

* https://nvd.nist.gov/vuln/detail/CVE-2024-2242 -- пример неправильно подтягиваемых cpe 

* Почистить датасет Stucco от неправильно указываемых версий? См. ноутбук make_dataset_manual_annotation  


### Обучение модели

* Плохой результат для I-vendor категории. Возможно, из-за малого числа в обучающей выборки (всего 55 слов во всей выборке). Может быть, часть реальных слов I-vendor размечены как B-vendor и можно поразмечать?

* Добавить cve, которые содержат нестандартные написания версий: CVE-2023-40050, CVE-2020-27589, CVE-2022-39255, CVE-2023-50709, CVE-2022-0944, CVE-2023-1404, CVE-2023-5054, CVE-2020-24025, CVE-2016-5007 (несколько продуктов и версий), CVE-2023-40050, CVE-2022-47595

* До 200? при генерации версий? До 100 уже замедляет скрипт

* Дедупликация по порогу, чтобы оставались несколько вероятных вендоров\продуктов. Проверка как соотносится вендор и продукт на основе информации из БД.

* Для CVE-2016-5007 протестировать извлечение нескольких продуктов и версий

* Upgrading to version 1.0 должно относиться к before, not including группе

* Пока плоховато распознают вендор/продукт. Например,  hazelcast/hazelcast

* Обрабатывать "Starting from". Например, в CVE-2023-50728.

* Обрабатывать "older than". Например, CVE-2017-1000188
* Обрабатывать "less than". Например, CVE-2020-11054
* Обрабатывать "and earlier". Например, CVE-2007-1218
* Обрабатывать "down to". Например, CVE-2005-1692

* train.csv + test.csv -- 15318, а ds_train + ds_test + test на drive -- 15322.Почему?


## In progress



## Done

* Создание скрипта для получения всех возможных вариантов CVE, CPE и их соответствия. Создание трех таблиц: cves, cpes, cve_cpe_config.

* Создание скрипта для получения информации об ОС, железе и ПО. Создано 5 таблиц с информацией о пакетах из apt, dpkg, snap, информацией об ОС и об оборудовании.

* Этап обработки получившихся сущностей
https://nvd.nist.gov/vuln/detail/CVE-2020-21087
Это пример неправильной обработки? Потому что в тексте написано `v6.9 and older`, а в подтянутых CPE версии до. -- Нет, older значит до

* При добавлении новых данных в обучающий датасет продублировал строки так, чтобы в случае если название продукта и вендора совпадает, каждое из слов был отмечено как сущность. Например, в CVE-2001-1229

* Добавить в цель "создаем отсутствующие в базе cpe". Например, для CVE-2006-5097, CVE-2005-1692


Неправильно заполнены неважные атрибуты в cpe, разобраться с этим:
* Язык должен быть 9 -- ss = "cpe:2.3:a:cs-cart:cs-cart:4.2.4:*:*:ja:*:*:*:*"
* sw_edition 8й -- ss = "cpe:2.3:a:hp:insight_diagnostics:6.3.1-1:unknown:online_linux:*:*:*:*:*

Для встречи 12 мая:
* спросить про дамп БД 
